@model IEnumerable<ProjektMove.Models.Person_Info_Model>

<script src="http://code.jquery.com/jquery-latest.js"></script>

<table class="table">
    <tr>
        <th>
            @Html.DisplayNameFor(model => model.Name)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.Email)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.Phone_No)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.Category)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.Email_Verification)
        </th>

        <th>
            @Html.DisplayNameFor(model => model.Date)
        </th>

        <th></th>
    </tr>

    @foreach (var item in Model)
    {
    <tr id="@item.Id">
        <td>
            @Html.DisplayFor(modelItem => item.Name)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.Email)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.Phone_No)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.Category)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.Email_Verification)
        </td>

        <td>
            @Html.DisplayFor(modelItem => item.Date)
        </td>
        <td>
            @if(item.Email_Verification== true)
            {
            <input onClick="Approval(@item.Id)" type="button" class="btn btn-primary" value="Approve" />

            }
            else
            {
            <input onClick="Approval(@item.Id)" type="button" class="btn btn-primary" disabled value="Approve" />

            }
            <input type="button" class="btn btn-primary" data-toggle="modal" data-target="#confirm-delete" value="Remove" />



        </td>
        <td>
            <div class="modal fade" id="confirm-delete" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
                <div class="modal-dialog">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h2> <strong> Delete Information</strong></h2>
                        </div>
                        <div class="modal-body">
                            You Are Going To Delete New Volunteer Information.
                        </div>
                        <div class="modal-footer">
                            <button type="button" class="btn btn-default" data-dismiss="modal">Cancel</button>
                            <button type="button" class="btn btn-danger btn-ok" onClick="Delete (@item.Id)" data-dismiss="modal">Delete</button>

                        </div>
                    </div>
                </div>
            </div>
        </td>

    </tr>
        
           
        
        

    }


</table>




<script>
    $(document).ready(function () {
        $('#confirm-delete').on('show.bs.modal', function (e) {
            $(this).find('.btn-ok');
        });

        
    });
    

    function Approval(id) {

        var url = "/Volunteer_Registration/Approval";

        var request = $.ajax({

            url: url,
            data: { id: id },
        })

        request.done(function (msg) {

            if (msg == "True") {
               var Id = '#' + id;
                $(Id).hide() 


            }
            



        });

    }

    


    function Delete(id) {
        
        
        var url = "/Volunteer_Registration/Delete";

        var request = $.ajax({

            url: url,
            data: { id: id },
        })

        request.done(function (msg) {

            if (msg == "True") {
                var Id = '#' + id;
                $(Id).hide()


            }




        });

    }

               

</script>


